<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Document</title>
</head>

<body>
    <%- include('partials/header') %>
        <!-- teamRoster.ejs -->
        <div class="my-6">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Team Roster for <%= team.teamName %>
            </h1>

            <!-- Display Team Information -->
            <div class="border p-4 rounded-md shadow-md">
                <p class="text-lg font-semibold">Coach Name: <%= team.coachName %>
                </p>
                <p class="text-lg font-semibold">Sport: <%= team.sport %>
                </p>
                <p class="text-lg font-semibold">Coach Number: <%= team.coachNumber %>
                </p>
            </div>
        </div>
        <!-- Display Player Roster -->
        <% if(team.players.length===0){%>
            <p>No players on roster.</p>
            <%}else {%>
                <table>
                    <thead>
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Player Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Age</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Date of Birth</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                Contact Number</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <% players.forEach(player=> { %>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <%= player.firstName %>
                                        <%= player.lastName %>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <%= player.age %>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <%= player.dateOfBirth %>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <%= player.contactNum %>
                                </td>
                            </tr>
                            <% }); %>
                    </tbody>
                </table>
                <% } %>

                    <!-- Add Player Button -->
                    <button id="addPlayerButton"
                        class="bg-indigo-500 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded">Add
                        Player</button>

                    <!-- Add Player Form (Initially hidden) -->
                    <div id="playerModal"
                        class="hidden fixed top-0 left-0 w-full h-full flex items-center justify-center bg-gray-900 bg-opacity-75">
                        <div class="bg-white p-8 rounded-lg" style="max-width: 600px;">
                            <form id="addPlayerForm" action="/leagues/<%= team._id %>/roster" method="POST">
                                <h2 class="text-xl font-semibold mb-2">Add Player</h2>
                                <div class="mb-4">
                                    <label for="firstName" class="block text-gray-700 text-sm font-bold mb-2">First
                                        Name</label>
                                    <input type="text" id="firstName" name="firstName"
                                        class="w-full border rounded py-2 px-3" required>
                                </div>
                                <div class="mb-4">
                                    <label for="lastName" class="block text-gray-700 text-sm font-bold mb-2">Last
                                        Name</label>
                                    <input type="text" id="lastName" name="lastName"
                                        class="w-full border rounded py-2 px-3" required>
                                </div>
                                <div class="mb-4">
                                    <label for="age" class="block text-gray-700 text-sm font-bold mb-2">Age</label>
                                    <input type="text" id="age" name="age" class="w-full border rounded py-2 px-3"
                                        required>
                                </div>
                                <div class="mb-4">
                                    <label for="dateOfBirth" class="block text-gray-700 text-sm font-bold mb-2">Date of
                                        Birth</label>
                                    <input type="text" id="dateOfBirth" name="dateOfBirth"
                                        class="w-full border rounded py-2 px-3">
                                </div>
                                <div class="mb-4">
                                    <label for="contactNum" class="block text-gray-700 text-sm font-bold mb-2">Contact
                                        Number</label>
                                    <input type="text" id="contactNum" name="contactNum"
                                        class="w-full border rounded py-2 px-3" required>
                                </div>
                                <div class="mb-4">
                                    <label for="position"
                                        class="block text-gray-700 text-sm font-bold mb-2">Position</label>
                                    <input type="text" id="position" name="position"
                                        class="w-full border rounded py-2 px-3">
                                </div>
                                <div class="mb-4">
                                    <label for="height"
                                        class="block text-gray-700 text-sm font-bold mb-2">Height</label>
                                    <input type="number" id="height" name="height"
                                        class="w-full border rounded py-2 px-3">
                                </div>
                                <div class="mb-4">
                                    <label for="weight"
                                        class="block text-gray-700 text-sm font-bold mb-2">Weight</label>
                                    <input type="number" id="weight" name="weight"
                                        class="w-full border rounded py-2 px-3">
                                </div>
                                <button type="submit" id="submitPlayerButton"
                                    class="bg-indigo-500 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded">Submit
                                    Player</button>
                            </form>
                            <button id="closePlayerModalButton"
                                class="bg-red-500 text-white px-4 py-2 rounded mt-4">Close</button>
                        </div>
                    </div>
                    <%- include('partials/footer') %>
                        <script src="/javascript/addPlayer.js"></script>
</body>

</html>